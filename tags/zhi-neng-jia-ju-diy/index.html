<!DOCTYPE html><html lang="zh-hk"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>Tag: 智能家居 DIY - 生活筆記</title><meta name="robots" content="noindex, follow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="alternate" type="application/atom+xml" href="https://felixhoi.github.io/felixhoi.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://felixhoi.github.io/felixhoi.github.io/feed.json"><meta property="og:title" content="智能家居 DIY"><meta property="og:site_name" content="生活筆記"><meta property="og:description" content=""><meta property="og:url" content="https://felixhoi.github.io/felixhoi.github.io/tags/zhi-neng-jia-ju-diy/"><meta property="og:type" content="website"><style>:root{--primary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--secondary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://felixhoi.github.io/felixhoi.github.io/assets/css/fontawesome-all.min.css?v=dbf9d822cefe851ba6f66e1ad57e8987"><link rel="stylesheet" href="https://felixhoi.github.io/felixhoi.github.io/assets/css/style.css?v=3da0eed09ccc2459784e9d7fdad9d5ed"><noscript><link rel="stylesheet" href="https://felixhoi.github.io/felixhoi.github.io/assets/css/noscript.css?v=6228c7eee614cd200a2cad8333b439fa"></noscript><script type="application/ld+json">{"@context":"http://schema.org","@type":"Organization","name":"生活筆記","url":"https://felixhoi.github.io/felixhoi.github.io/"}</script><style>#wrapper > .bg {
               background-image: url(https://felixhoi.github.io/felixhoi.github.io/assets/images/overlay.png), linear-gradient(0deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url();
           }</style></head><body class="is-preload"><div id="wrapper"><header id="header"><a class="logo" href="https://felixhoi.github.io/felixhoi.github.io/">生活筆記</a></header><nav id="nav"><ul class="links"><li><a href="https://felixhoi.github.io/felixhoi.github.io/tags/" target="_self">Tags</a></li><li><a href="https://felixhoi.github.io/felixhoi.github.io/authors/felix-hoi/" target="_self">Author</a></li></ul></nav><main id="main"><header class="page-header"><h1>智能家居 DIY <sup>(2)</sup></h1></header><section class="posts"><article><header><time datetime="2020-10-05T10:13" class="date">十月 5, 2020</time><h2><a href="https://felixhoi.github.io/felixhoi.github.io/raspberry-pi-shu-mei-pai-kong-zhi-men-suo.html">Raspberry Pi 樹莓派控制門鎖</a></h2></header><p>上一篇的筆記記錄了第一次嘗試使用Raspberry Pi控制電鎖開門，現在記錄一下用Raspberry Pi 控制普通的鎖。普通的門鎖，在門內開鎖是用手去扭或拉一個掣，我們用一條繩的一端綁住鎖上的掣，繩的另一端綁住一個伺服馬達(servomotor)或叫舵機(廣東話不知道是否有另一個名字)，Raspberry Pi 控制舵機轉動把繩往一個方向拉，繼而拉或扭開個掣。會用到硬件：加長針https://detail.tmall.com/item.htm?id=610307765800&amp;spm=a1z09.2.0.0.4f812e8ds3RIHT&amp;_u=u48r4cdc30aPoE 交換機https://detail.tmall.com/item.htm?id=562370892802&amp;spm=a1z09.2.0.0.4f812e8ds3RIHT&amp;_u=u48r4cd6656Raspberry Pi PoE Hat https://item.taobao.com/item.htm?spm=a1z09.2.0.0.4f812e8ds3RIHT&amp;id=575668058521&amp;_u=u48r4cd31a1 servomotor 伺服馬達伺服馬達和普通馬達的區別是，最普通的馬達，有電就會一直轉動，一般用作動力（車輪驅動），伺服馬達裡面就是一個普通馬達和一個位置（角度）偵測器，一般用作方向控制（方向盤），所以伺服馬達可以被指定轉到某個角度就停，可以指定轉到某個角度，代表著我們可以拉動繩子一定的距離。 伺服馬達有三條線，紅色接 5V，即正極。啡色接GND即地線負極。黃色為信號線，接其中一個GPIO，GPIO即可以作為輸入或者輸出都可以，這裡用來控制馬達，所以程式控制的時候要設定為輸出電壓。很多電子元件都是三條線的，其中兩條供電，一條傳輸信號。物理化學都很差的我一開始會想，正負兩條線接在用電器上，閉合形成迴路，但信號線一條怎麼沒有閉合，原來是和電源用同一條地線，簡稱共地。脈衝信號訊號也有分兩種，最簡單的就是短路訊號，像電燈開關，就是讓兩點連接。另一種是脈衝訊號，持續輸入高低有規律交錯的電壓，Raspberry Pi GPIO 輸出為高電位3.3V，低電位為0V。舵機使用的是PMW脈衝寛度調制訊號，比如某信號一個週期是20ms，就是每20ms就是一段重覆的信號，寛度指的是在週期裡高電平的持續總時間，比如10ms，這個比例是10/20，並稱作工作週期 duty cycle。工作週期 Duty Cycle伺服馬達會根據你輸入的PWM信號的工作週期來轉動馬達去到某毎角度，伺服馬達MG995有以下說明：舵机的控制一般需要一个20ms左右的时基脉冲，该脉冲的高电平部分一般为0.5ms-2.5ms范围内的角度控制脉冲部分，总间隔为2ms。以180度角度伺服为例，那么对应的控制关系是这样的：0.5ms--------------0度；duty cycle =&hellip;</p><ul class="actions special"><li><a href="https://felixhoi.github.io/felixhoi.github.io/raspberry-pi-shu-mei-pai-kong-zhi-men-suo.html" class="button">Full Story</a></li></ul></article><article><header><time datetime="2020-10-05T10:01" class="date">十月 5, 2020</time><h2><a href="https://felixhoi.github.io/felixhoi.github.io/shu-mei-pai-raspberry-pi-kong-zhi-dian-suo.html">樹莓派 Raspberry Pi 控制電鎖</a></h2></header><p>前一陣子終於把家裡的門鎖改成可以使用手機控制開門，這個計劃的開端始於2018年8月份，一個沒記性的人為什麼記得那麼清楚，因為淘寶上記錄呀。因為這個計劃一直沒實現，所以當我跟某人說我想做什麼新的事情，某人就會酸我之前也說要弄自動開門呀，弄到哪去了⋯⋯2018年的時候搞了一陣子，然後就放棄了。但這件事一直在我心中，所以在某一天就GOOGLE了一下，找到了一篇教學，跟著做就實現了。Raspberry PiRaspberry Pi 是一種單片機，就是電腦主機所需的基本零件都焊在一起的主機，底板上有CPU 、RAM、HDMI接口、LAN接口、WI-FI晶片等等，再插上一張SD就是一台可以運作像手掌大小電腦。除了尺寸外，它和一般家用電腦的區別是它所採用的CPU 架構是ARM，而一般PC是使用X86架構，如果你有下載過作業系統(OS)的安裝檔案，會見過x86(i386)、86_x64、 AMD64 等字眼，x86也是我們常說的32bit OS，x64就是64bit OS。32bit 與 64bit 指的是CPU 的通用寄存器的長度，32bit 的長度就是 2的32次方。在某個年代，我們的Windows xp 是32bit ，OS 最多只能記得2^32/1024/1024/1024=4Gb的地址，但硬體RAM可能會超過4Gb，多出來的就RAM就不能當RAM使用，其中一個方法就把它當做硬盤使用(Ram Disk)，這個Ram Disk 就會比一般的Disk&hellip;</p><ul class="actions special"><li><a href="https://felixhoi.github.io/felixhoi.github.io/shu-mei-pai-raspberry-pi-kong-zhi-dian-suo.html" class="button">Full Story</a></li></ul></article></section></main><footer id="copyright"><ul><li>© Macau</li><li>Design:孩子的爸</li><li>Powered by 理性生活</li></ul></footer></div><script src="https://felixhoi.github.io/felixhoi.github.io/assets/js/jquery.min.js?v=220afd743d9e9643852e31a135a9f3ae"></script><script src="https://felixhoi.github.io/felixhoi.github.io/assets/js/jquery.scrollex.min.js?v=f89065e3d988006af9791b44561d7c90"></script><script src="https://felixhoi.github.io/felixhoi.github.io/assets/js/jquery.scrolly.min.js?v=1ed5a78bde1476875a40f6b9ff44fc14"></script><script src="https://felixhoi.github.io/felixhoi.github.io/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://felixhoi.github.io/felixhoi.github.io/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://felixhoi.github.io/felixhoi.github.io/assets/js/util.min.js?v=4201a626f8c9b614a663b3a1d7d82615"></script><script src="https://felixhoi.github.io/felixhoi.github.io/assets/js/main.min.js?v=149e72e3ae18744a477b480b19e0c6da"></script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script></body></html>